# ============================================
# Cashflow - Variaveis de Ambiente
# ============================================
# Copie este arquivo para .env e ajuste os valores
# conforme necessario para seu ambiente.
# ============================================

# ============================================
# PostgreSQL - Banco de Dados
# ============================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=cashflow
POSTGRES_PASSWORD=cashflow123
POSTGRES_DB=cashflow_db

# Connection string completa (usada pela aplicacao)
CONNECTION_STRING_POSTGRESQL=Host=localhost;Port=5432;Database=cashflow_db;Username=cashflow;Password=cashflow123

# ============================================
# Redis - Cache Distribuido
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Connection string completa
CONNECTION_STRING_REDIS=localhost:6379

# ============================================
# RabbitMQ - Message Broker
# ============================================
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_MGMT_PORT=15672
RABBITMQ_USER=cashflow
RABBITMQ_PASSWORD=cashflow123
RABBITMQ_VHOST=cashflow
RABBITMQ_EXCHANGE=cashflow.events
RABBITMQ_EXCHANGE_TYPE=topic
RABBITMQ_AUTOMATIC_RECOVERY=true
RABBITMQ_NETWORK_RECOVERY_INTERVAL=10

# ============================================
# Resiliencia (Polly)
# ============================================
RESILIENCE_MAX_RETRY_ATTEMPTS=3
RESILIENCE_RETRY_BASE_DELAY_MS=200
RESILIENCE_PUBLISHER_RETRY_DELAY_MS=500
RESILIENCE_CIRCUIT_BREAKER_DURATION_SECONDS=30
RESILIENCE_CIRCUIT_BREAKER_FAILURE_RATIO=0.5
RESILIENCE_CACHE_MINIMUM_THROUGHPUT=10
RESILIENCE_MESSAGING_MINIMUM_THROUGHPUT=5
RESILIENCE_SAMPLING_DURATION_SECONDS=30
RESILIENCE_CACHE_TIMEOUT_SECONDS=5
RESILIENCE_MESSAGING_TIMEOUT_SECONDS=10

# ============================================
# Cache
# ============================================
CACHE_DEFAULT_TTL_MINUTES=30
CACHE_SALDO_CONSOLIDADO_TTL_MINUTES=15
CACHE_INSTANCE_NAME=Cashflow:

# ============================================
# Database
# ============================================
DATABASE_MAX_RETRY_COUNT=3
DATABASE_MAX_RETRY_DELAY_SECONDS=30
DATABASE_COMMAND_TIMEOUT_SECONDS=30

# ============================================
# API
# ============================================
ASPNETCORE_ENVIRONMENT=Development
ASPNETCORE_URLS=http://+:8080
API_PORT=5000

# ============================================
# Ferramentas de Desenvolvimento
# ============================================
ADMINER_PORT=8081
REDIS_COMMANDER_PORT=8082
